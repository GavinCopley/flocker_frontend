<div id="progressContainer"></div>

<style>
    #progressContainer {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        height: 100vh; /* Full height */
        background-color: black; /* Background color */
        color: white; /* Text color */
        font-family: Arial, sans-serif; /* Font style */
        position: relative;
    }

    svg {
        margin-bottom: -40px; /* Adjust to overlap text */
    }

    #title {
        font-size: 24px;
        text-align: center;
        margin-bottom: 10px;
    }

    #timeText {
        font-size: 20px; /* Increased font size */
        text-align: center;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white; /* Text color inside circle */
        text-shadow: 0 0 5px purple, 0 0 10px purple; /* Glow effect for text */
        padding: 10px; /* Padding to ensure snug fit */
    }

    /* Glow effect for the progress circle */
    .glow {
        filter: drop-shadow(0 0 5px purple) drop-shadow(0 0 10px purple);
    }
</style>

<script>
    // Set the school start and end times
    const schoolStart = new Date();
    schoolStart.setHours(8, 35, 0, 0); // 8:35 AM

    const schoolEnd = new Date();
    schoolEnd.setHours(15, 45, 0, 0); // 3:45 PM

    const radius = 150; // Increased radius for a larger circle
    const circumference = 2 * Math.PI * radius;

    // Create an SVG container
    const svgNamespace = "http://www.w3.org/2000/svg";
    const svg = document.createElementNS(svgNamespace, "svg");
    svg.setAttribute("width", radius * 2 + 40);
    svg.setAttribute("height", radius * 2 + 40);

    // Create a background circle
    const circle = document.createElementNS(svgNamespace, "circle");
    circle.setAttribute("cx", radius + 20); // Center x
    circle.setAttribute("cy", radius + 20); // Center y
    circle.setAttribute("r", radius);
    circle.setAttribute("stroke", "lightgray");
    circle.setAttribute("stroke-width", "15"); // Thicker background circle
    circle.setAttribute("fill", "none");

    // Create a glowing progress circle
    const progressCircle = document.createElementNS(svgNamespace, "circle");
    progressCircle.setAttribute("cx", radius + 20);
    progressCircle.setAttribute("cy", radius + 20);
    progressCircle.setAttribute("r", radius);
    progressCircle.setAttribute("stroke", "purple"); // Progress color
    progressCircle.setAttribute("stroke-width", "15"); // Thicker progress circle
    progressCircle.setAttribute("fill", "none");
    progressCircle.setAttribute("stroke-dasharray", circumference);
    progressCircle.setAttribute("stroke-dashoffset", circumference); // Start as filled
    progressCircle.classList.add("glow"); // Add glow class

    // Append circles to the SVG container
    svg.appendChild(circle);
    svg.appendChild(progressCircle);

    // Append the SVG to the progress container
    document.getElementById('progressContainer').appendChild(svg);

    // Create title and text elements
    const title = document.createElement("div");
    title.id = "title";
    title.textContent = "School Timer";

    const text = document.createElement("div");
    text.id = "timeText"; // For updating the message
    text.textContent = "Hours Left of School";

    // Append title and text to the progress container
    const progressContainer = document.getElementById('progressContainer');
    progressContainer.appendChild(title);
    progressContainer.appendChild(text);

    // Function to update the progress circle and text
    function updateProgress() {
        const now = new Date();
        const totalSchoolTime = schoolEnd - schoolStart;
        let elapsedSchoolTime = 0;

        if (now >= schoolStart && now < schoolEnd) {
            elapsedSchoolTime = now - schoolStart;
        } else if (now >= schoolEnd) {
            elapsedSchoolTime = totalSchoolTime;
        }

        const progress = (elapsedSchoolTime / totalSchoolTime) * circumference;
        progressCircle.setAttribute("stroke-dashoffset", circumference - progress);

        // Update the timer message
        let message;
        if (now < schoolStart) {
            message = `School starts in ${Math.floor((schoolStart - now) / 60000)} minutes.`;
        } else if (now < schoolEnd) {
            message = `Hours left of school: ${Math.ceil((schoolEnd - now) / 60000 / 60)} hour(s).`;
        } else {
            message = 'School is over for the day.';
        }

        // Update the displayed text
        document.getElementById('timeText').textContent = message;
    }

    // Initial call and set interval to update progress every minute
    updateProgress();
    setInterval(updateProgress, 60000);
</script>
